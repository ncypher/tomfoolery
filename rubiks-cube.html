<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3D Rubik‚Äôs Cube ‚Äî Fixed Stickers (QuickBase‚Äëfriendly)</title>
  <style>
    :root{
      --bg:#0b0e14;--panel:#0f1420;--border:#1a2233;--text:#eaeef5;--muted:#9fb0c7;
      --u:#ffffff;--d:#ffe100;--l:#ff8c00;--r:#cc0000;--f:#1fa83d;--b:#1b51e5;
      --size: 360px;
      --sticker: 32px;
      --gap: 2px;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    #app{display:grid;grid-template-columns:300px 1fr;gap:16px;padding:16px;height:100%;box-sizing:border-box}
    #panel{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:14px;box-shadow:0 8px 24px rgba(0,0,0,.25)}
    #title{font-weight:800;font-size:18px;margin-bottom:8px}
    .subtle{color:var(--muted);font-size:12px;line-height:1.5;margin-bottom:12px}
    .row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
    button{appearance:none;border:1px solid #2a3448;background:#121a28;color:var(--text);padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600;}
    button:hover{background:#162033}
    .primary{background:#2251f6;border-color:#2251f6}
    .primary:hover{background:#2a5bff}

    #stage{border:1px solid var(--border);border-radius:16px;display:flex;align-items:center;justify-content:center;min-height:500px;perspective:1000px}
    #cube{position:relative;transform-style:preserve-3d;width:var(--size);height:var(--size);transition:transform .4s ease}

    .face{position:absolute;width:var(--size);height:var(--size);display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:var(--gap);padding:var(--gap);box-sizing:border-box}
    .sticker{width:100%;height:100%;border-radius:4px;box-shadow:inset 0 0 2px #000}

    /* place faces */
    #F{transform:translateZ(calc(var(--size)/2));}
    #B{transform:rotateY(180deg) translateZ(calc(var(--size)/2));}
    #R{transform:rotateY(90deg) translateZ(calc(var(--size)/2));}
    #L{transform:rotateY(-90deg) translateZ(calc(var(--size)/2));}
    #U{transform:rotateX(90deg) translateZ(calc(var(--size)/2));}
    #D{transform:rotateX(-90deg) translateZ(calc(var(--size)/2));}
  </style>
</head>
<body>
  <div id="app">
    <div id="panel">
      <div id="title">üßä 3D 3√ó3 Rubik‚Äôs Cube (CSS 3D, stickers stay together)</div>
      <div class="subtle">‚Ä¢ Orbit cube with arrow keys. ‚Ä¢ Buttons/keys U D L R F B to rotate faces. ‚Ä¢ Scramble / Solve / Reset supported.</div>
      <div class="row">
        <button id="scramble" class="primary">üîÄ Scramble</button>
        <button id="solve">‚úÖ Solve</button>
        <button id="reset">‚ôªÔ∏è Reset</button>
      </div>
      <div class="row" id="moves"></div>
      <div class="subtle">History: <span id="hist">0</span> ‚Ä¢ Status: <span id="status">Ready</span></div>
    </div>

    <div id="stage">
      <div id="cube">
        <div class="face" id="U"></div>
        <div class="face" id="D"></div>
        <div class="face" id="L"></div>
        <div class="face" id="R"></div>
        <div class="face" id="F"></div>
        <div class="face" id="B"></div>
      </div>
    </div>
  </div>

  <script>
  (()=>{
    const colors={U:'var(--u)',D:'var(--d)',L:'var(--l)',R:'var(--r)',F:'var(--f)',B:'var(--b)'};
    const faceIds=['U','D','L','R','F','B'];
    function solved(){return{U:Array(9).fill('U'),D:Array(9).fill('D'),L:Array(9).fill('L'),R:Array(9).fill('R'),F:Array(9).fill('F'),B:Array(9).fill('B')}}
    let cube=solved(); let hist=[];

    function rot(arr,t=1){t=((t%4)+4)%4;let a=arr.slice();while(t--){a=[a[6],a[3],a[0],a[7],a[4],a[1],a[8],a[5],a[2]];}return a;}
    function apply(face){const U=cube.U,D=cube.D,L=cube.L,R=cube.R,F=cube.F,B=cube.B;switch(face){case'U':cube.U=rot(U);[F[0],F[1],F[2],R[0],R[1],R[2],B[0],B[1],B[2],L[0],L[1],L[2]]=[R[0],R[1],R[2],B[0],B[1],B[2],L[0],L[1],L[2],F[0],F[1],F[2]];break;case'D':cube.D=rot(D);[F[6],F[7],F[8],L[6],L[7],L[8],B[6],B[7],B[8],R[6],R[7],R[8]]=[L[6],L[7],L[8],B[6],B[7],B[8],R[6],R[7],R[8],F[6],F[7],F[8]];break;case'R':cube.R=rot(R);[U[2],U[5],U[8],F[2],F[5],F[8],D[2],D[5],D[8],B[6],B[3],B[0]]=[F[2],F[5],F[8],D[2],D[5],D[8],B[6],B[3],B[0],U[2],U[5],U[8]];break;case'L':cube.L=rot(L);[U[0],U[3],U[6],B[8],B[5],B[2],D[0],D[3],D[6],F[0],F[3],F[6]]=[B[8],B[5],B[2],D[0],D[3],D[6],F[0],F[3],F[6],U[0],U[3],U[6]];break;case'F':cube.F=rot(F);[U[6],U[7],U[8],L[8],L[5],L[2],D[2],D[1],D[0],R[0],R[3],R[6]]=[L[8],L[5],L[2],D[2],D[1],D[0],R[0],R[3],R[6],U[6],U[7],U[8]];break;case'B':cube.B=rot(B);[U[2],U[1],U[0],R[8],R[5],R[2],D[6],D[7],D[8],L[0],L[3],L[6]]=[R[8],R[5],R[2],D[6],D[7],D[8],L[0],L[3],L[6],U[2],U[1],U[0]];break;}}

    faceIds.forEach(id=>{const f=document.getElementById(id);f.innerHTML='';for(let i=0;i<9;i++){const s=document.createElement('div');s.className='sticker';f.appendChild(s);}});
    function draw(){faceIds.forEach(id=>{[...document.getElementById(id).children].forEach((s,i)=>{s.style.background=colors[cube[id][i]];});});}

    function doMove(m){const base=m[0];const suf=m.slice(1);const reps=suf==='2'?2:(suf==="'"?3:1);for(let i=0;i<reps;i++)apply(base);hist.push(m);draw();document.getElementById('hist').textContent=hist.length;}
    function scramble(n=25){const f=['U','D','L','R','F','B'];let seq=[];for(let i=0;i<n;i++){const mv=f[Math.floor(Math.random()*6)];seq.push(mv);}seq.forEach(m=>doMove(m));}
    function inverse(m){if(m.endsWith('2'))return m;if(m.endsWith("'"))return m[0];return m+"'";}
    function solve(){const inv=hist.slice().reverse().map(inverse);inv.forEach(m=>doMove(m));hist=[];draw();}
    function reset(){cube=solved();hist=[];draw();}

    document.getElementById('scramble').onclick=()=>scramble();
    document.getElementById('solve').onclick=()=>solve();
    document.getElementById('reset').onclick=()=>reset();

    // Build move buttons
    const btns=["U","U'","U2","D","D'","D2","L","L'","L2","R","R'","R2","F","F'","F2","B","B'","B2"];
    btns.forEach(m=>{const b=document.createElement('button');b.textContent=m;b.onclick=()=>doMove(m);document.getElementById('moves').appendChild(b);});

    // Keyboard
    window.addEventListener('keydown',e=>{const map={u:'U',d:'D',l:'L',r:'R',f:'F',b:'B'};const k=e.key.toLowerCase();if(map[k])doMove(map[k]+(e.shiftKey?"'":''));else if(k==='2'&&hist.length>0)doMove(hist[hist.length-1][0]+'2');});

    // Camera rotate
    let yaw=-24,pitch=-20;function cam(){document.getElementById('cube').style.transform=`rotateX(${pitch}deg) rotateY(${yaw}deg)`;}cam();
    window.addEventListener('keydown',e=>{if(e.key==='ArrowLeft'){yaw-=10;cam();}if(e.key==='ArrowRight'){yaw+=10;cam();}if(e.key==='ArrowUp'){pitch-=10;cam();}if(e.key==='ArrowDown'){pitch+=10;cam();}});

    reset();
  })();
  </script>
</body>
</html>
